{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./WorkOrders.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkOrders=function WorkOrders(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),workOrders=_useState2[0],setWorkOrders=_useState2[1];var navigate=useNavigate();useEffect(function(){fetchWorkOrders();},[]);var fetchWorkOrders=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://portal-test.yenaengineering.nl/api/worksteps/Open');case 3:response=_context.sent;setWorkOrders(response.data.data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchWorkOrders(){return _ref.apply(this,arguments);};}();var handleEdit=function handleEdit(step_id,work_id,state){if(state===\"New Work\"){navigate(\"/newworks?work_id=\".concat(work_id,\"&step_id=\").concat(step_id));}if(state===\"Certificate\"){navigate(\"/certificate?work_id=\".concat(work_id,\"&step_id=\").concat(step_id));}if(state===\"QR Certificate\"){navigate(\"/qr-certificate?work_id=\".concat(work_id,\"&step_id=\").concat(step_id));}if(state===\"Quality Control\"){navigate(\"/quality-control?work_id=\".concat(work_id,\"&step_id=\").concat(step_id));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"work-orders-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"work-orders-title\",children:\"Work Orders\"}),/*#__PURE__*/_jsx(\"button\",{className:\"create-button\",onClick:function onClick(){return navigate('/create-work-order');},children:\"+ Create\"}),/*#__PURE__*/_jsx(\"div\",{className:\"work-orders-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"work-orders-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Work ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Step Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{children:\"State\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:workOrders.map(function(workOrder){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:workOrder.id}),/*#__PURE__*/_jsx(\"td\",{children:workOrder.work_id}),/*#__PURE__*/_jsx(\"td\",{children:workOrder.step_name}),/*#__PURE__*/_jsx(\"td\",{children:workOrder.timestamp}),/*#__PURE__*/_jsx(\"td\",{children:workOrder.state}),/*#__PURE__*/_jsx(\"td\",{children:workOrder.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:function onClick(){return handleEdit(workOrder.id,workOrder.work_id,workOrder.state);},children:\"D\\xFCzenle\"})})]},workOrder.id);})})]})})]});};export default WorkOrders;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","WorkOrders","_useState","_useState2","_slicedToArray","workOrders","setWorkOrders","navigate","fetchWorkOrders","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","data","t0","stop","apply","arguments","handleEdit","step_id","work_id","state","concat","className","children","onClick","map","workOrder","id","step_name","timestamp","status"],"sources":["C:/Users/mtrce/portal-test/client/src/components/Works/WorkOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './WorkOrders.css';\r\n\r\nconst WorkOrders = () => {\r\n  const [workOrders, setWorkOrders] = useState([]);\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchWorkOrders();\r\n  }, []);\r\n\r\n  const fetchWorkOrders = async () => {\r\n    try {\r\n      const response = await axios.get('https://portal-test.yenaengineering.nl/api/worksteps/Open');\r\n      setWorkOrders(response.data.data);\r\n    } catch (error) {\r\n      // console.error('Work orders alınamadı:', error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (step_id, work_id, state) => {\r\n    if (state === \"New Work\")  {\r\n      navigate(`/newworks?work_id=${work_id}&step_id=${step_id}`);\r\n    }\r\n    if (state === \"Certificate\")  {\r\n      navigate(`/certificate?work_id=${work_id}&step_id=${step_id}`);\r\n    }\r\n    if (state === \"QR Certificate\")  {\r\n      navigate(`/qr-certificate?work_id=${work_id}&step_id=${step_id}`);\r\n    }\r\n    if (state === \"Quality Control\")  {\r\n      navigate(`/quality-control?work_id=${work_id}&step_id=${step_id}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"work-orders-container\">\r\n      <h1 className=\"work-orders-title\">Work Orders</h1>\r\n      <button className=\"create-button\" onClick={() => navigate('/create-work-order')}>\r\n        + Create\r\n      </button>\r\n      <div className=\"work-orders-table-container\">\r\n        <table className=\"work-orders-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Work ID</th>\r\n              <th>Step Name</th>\r\n              <th>Timestamp</th>\r\n              <th>State</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {workOrders.map((workOrder) => (\r\n              <tr key={workOrder.id}>\r\n                <td>{workOrder.id}</td>\r\n                <td>{workOrder.work_id}</td>\r\n                <td>{workOrder.step_name}</td>\r\n                <td>{workOrder.timestamp}</td>\r\n                <td>{workOrder.state}</td>\r\n                <td>{workOrder.status}</td>\r\n                <td>\r\n                  <button className=\"edit-button\" onClick={() => handleEdit(workOrder.id, workOrder.work_id, workOrder.state)}>\r\n                    Düzenle\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkOrders;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}