{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/mtrce/portal-test/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{uploadImageToAzure}from\"./formapi\";export var addRow=function addRow(rows,setRows){return function(){console.log(\"rowDetail: \",rows);var newRow={row_number:rows.length+1,name:'',technical_drawing_numbering:'',tools:'',description:'',actual_dimension:'',lower_tolerance:'',upper_tolerance:'',sample_quantity:'',example_visual_url:''};setRows([].concat(_toConsumableArray(rows),[newRow]));};};export var handleInputChange=function handleInputChange(rows,setRows){return function(e,rowNumber,key){var newRows=rows.map(function(row){if(row.row_number===rowNumber){return _objectSpread(_objectSpread({},row),{},_defineProperty({},key,e.target.value));}else{return row;}});setRows(newRows);};};export var handleDrop=function handleDrop(rows,setRows){return function(e,rowId){e.preventDefault();var file=e.dataTransfer.files[0];if(file&&(file.type==='image/png'||file.type==='image/jpeg')){handleFileUpload(rows,setRows)(file,rowId);}else{alert('Lütfen sadece PNG veya JPEG dosyaları yükleyin.');}};};export var handleFileSelect=function handleFileSelect(rows,setRows){return function(e,rowId){var file=e.target.files[0];if(file&&(file.type==='image/png'||file.type==='image/jpeg')){handleFileUpload(rows,setRows)(file,rowId);}else{alert('Lütfen sadece PNG veya JPEG dosyaları yükleyin.');}};};export var handleFileUpload=function handleFileUpload(rows,setRows){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(file,rowId){var imageUrl;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"handleFileUpload called\");console.log(\"Uploading file: \".concat(file.name));_context.next=5;return uploadImageToAzure(file);case 5:imageUrl=_context.sent;console.log(\"Uploaded file URL: \".concat(imageUrl));setRows(rows.map(function(row){return row.row_number===rowId?_objectSpread(_objectSpread({},row),{},{example_visual_url:imageUrl}):row;}));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"Error uploading file for row \".concat(rowId,\":\"),_context.t0.message,_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};","map":{"version":3,"names":["uploadImageToAzure","addRow","rows","setRows","console","log","newRow","row_number","length","name","technical_drawing_numbering","tools","description","actual_dimension","lower_tolerance","upper_tolerance","sample_quantity","example_visual_url","concat","_toConsumableArray","handleInputChange","e","rowNumber","key","newRows","map","row","_objectSpread","_defineProperty","target","value","handleDrop","rowId","preventDefault","file","dataTransfer","files","type","handleFileUpload","alert","handleFileSelect","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","imageUrl","wrap","_callee$","_context","prev","next","sent","t0","error","message","stop","_x","_x2","apply","arguments"],"sources":["C:/Users/mtrce/portal-test/client/src/components/PQC/rowDetail.js"],"sourcesContent":["import { uploadImageToAzure } from \"./formapi\";\r\n\r\n  export const addRow = (rows, setRows) => () => {\r\n    console.log(\"rowDetail: \",rows)\r\n    const newRow = {\r\n      row_number: rows.length + 1,\r\n      name: '',\r\n      technical_drawing_numbering: '',\r\n      tools: '',\r\n      description: '',\r\n      actual_dimension: '',\r\n      lower_tolerance: '',\r\n      upper_tolerance: '',\r\n      sample_quantity: '',\r\n      example_visual_url: '',\r\n    };\r\n    setRows([...rows, newRow]);\r\n  };\r\n  \r\n  export const handleInputChange = (rows, setRows) => (e, rowNumber, key) => {\r\n    const newRows = rows.map(row => {\r\n      if (row.row_number === rowNumber) {\r\n        return { ...row, [key]: e.target.value };\r\n      } else {\r\n        return row;\r\n      }\r\n    });\r\n    setRows(newRows);\r\n  };\r\n\r\n  export const handleDrop = (rows, setRows) => (e, rowId) => {\r\n    e.preventDefault();\r\n    const file = e.dataTransfer.files[0];\r\n    if (file && (file.type === 'image/png' || file.type === 'image/jpeg')) {\r\n      handleFileUpload(rows, setRows)(file, rowId);\r\n    } else {\r\n      alert('Lütfen sadece PNG veya JPEG dosyaları yükleyin.');\r\n    }\r\n  };\r\n\r\n  export const handleFileSelect = (rows, setRows) => (e, rowId) => {\r\n    const file = e.target.files[0];\r\n    if (file && (file.type === 'image/png' || file.type === 'image/jpeg')) {\r\n      handleFileUpload(rows, setRows)(file, rowId);\r\n    } else {\r\n      alert('Lütfen sadece PNG veya JPEG dosyaları yükleyin.');\r\n    }\r\n  };\r\n\r\n  export const handleFileUpload = (rows, setRows) => async (file, rowId) => {\r\n    try {\r\n      console.log(\"handleFileUpload called\");\r\n      console.log(`Uploading file: ${file.name}`);\r\n      const imageUrl = await uploadImageToAzure(file);\r\n      console.log(`Uploaded file URL: ${imageUrl}`);\r\n      setRows(rows.map(row => row.row_number === rowId ? {...row, example_visual_url: imageUrl} : row));\r\n    } catch (error) {\r\n      console.error(`Error uploading file for row ${rowId}:`, error.message, error);\r\n    }\r\n  };\r\n  "],"mappings":"4mBAAA,OAASA,kBAAkB,KAAQ,WAAW,CAE5C,MAAO,IAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIC,IAAI,CAAEC,OAAO,QAAK,WAAM,CAC7CC,OAAO,CAACC,GAAG,CAAC,aAAa,CAACH,IAAI,CAAC,CAC/B,GAAM,CAAAI,MAAM,CAAG,CACbC,UAAU,CAAEL,IAAI,CAACM,MAAM,CAAG,CAAC,CAC3BC,IAAI,CAAE,EAAE,CACRC,2BAA2B,CAAE,EAAE,CAC/BC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EAAE,CACfC,gBAAgB,CAAE,EAAE,CACpBC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBC,eAAe,CAAE,EAAE,CACnBC,kBAAkB,CAAE,EACtB,CAAC,CACDd,OAAO,IAAAe,MAAA,CAAAC,kBAAA,CAAKjB,IAAI,GAAEI,MAAM,GAAE,CAC5B,CAAC,GAED,MAAO,IAAM,CAAAc,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIlB,IAAI,CAAEC,OAAO,QAAK,UAACkB,CAAC,CAAEC,SAAS,CAAEC,GAAG,CAAK,CACzE,GAAM,CAAAC,OAAO,CAAGtB,IAAI,CAACuB,GAAG,CAAC,SAAAC,GAAG,CAAI,CAC9B,GAAIA,GAAG,CAACnB,UAAU,GAAKe,SAAS,CAAE,CAChC,OAAAK,aAAA,CAAAA,aAAA,IAAYD,GAAG,KAAAE,eAAA,IAAGL,GAAG,CAAGF,CAAC,CAACQ,MAAM,CAACC,KAAK,GACxC,CAAC,IAAM,CACL,MAAO,CAAAJ,GAAG,CACZ,CACF,CAAC,CAAC,CACFvB,OAAO,CAACqB,OAAO,CAAC,CAClB,CAAC,GAED,MAAO,IAAM,CAAAO,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAI7B,IAAI,CAAEC,OAAO,QAAK,UAACkB,CAAC,CAAEW,KAAK,CAAK,CACzDX,CAAC,CAACY,cAAc,EAAE,CAClB,GAAM,CAAAC,IAAI,CAAGb,CAAC,CAACc,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CACpC,GAAIF,IAAI,GAAKA,IAAI,CAACG,IAAI,GAAK,WAAW,EAAIH,IAAI,CAACG,IAAI,GAAK,YAAY,CAAC,CAAE,CACrEC,gBAAgB,CAACpC,IAAI,CAAEC,OAAO,CAAC,CAAC+B,IAAI,CAAEF,KAAK,CAAC,CAC9C,CAAC,IAAM,CACLO,KAAK,CAAC,iDAAiD,CAAC,CAC1D,CACF,CAAC,GAED,MAAO,IAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAItC,IAAI,CAAEC,OAAO,QAAK,UAACkB,CAAC,CAAEW,KAAK,CAAK,CAC/D,GAAM,CAAAE,IAAI,CAAGb,CAAC,CAACQ,MAAM,CAACO,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAIF,IAAI,GAAKA,IAAI,CAACG,IAAI,GAAK,WAAW,EAAIH,IAAI,CAACG,IAAI,GAAK,YAAY,CAAC,CAAE,CACrEC,gBAAgB,CAACpC,IAAI,CAAEC,OAAO,CAAC,CAAC+B,IAAI,CAAEF,KAAK,CAAC,CAC9C,CAAC,IAAM,CACLO,KAAK,CAAC,iDAAiD,CAAC,CAC1D,CACF,CAAC,GAED,MAAO,IAAM,CAAAD,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIpC,IAAI,CAAEC,OAAO,oCAAAsC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOX,IAAI,CAAEF,KAAK,MAAAc,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEjE9C,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CACtCD,OAAO,CAACC,GAAG,oBAAAa,MAAA,CAAoBgB,IAAI,CAACzB,IAAI,EAAG,CAACwC,QAAA,CAAAE,IAAA,SACrB,CAAAnD,kBAAkB,CAACkC,IAAI,CAAC,QAAzCY,QAAQ,CAAAG,QAAA,CAAAG,IAAA,CACdhD,OAAO,CAACC,GAAG,uBAAAa,MAAA,CAAuB4B,QAAQ,EAAG,CAC7C3C,OAAO,CAACD,IAAI,CAACuB,GAAG,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACnB,UAAU,GAAKyB,KAAK,CAAAL,aAAA,CAAAA,aAAA,IAAOD,GAAG,MAAET,kBAAkB,CAAE6B,QAAQ,GAAIpB,GAAG,GAAC,CAAC,CAACuB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAElG7C,OAAO,CAACkD,KAAK,iCAAApC,MAAA,CAAiCc,KAAK,MAAKiB,QAAA,CAAAI,EAAA,CAAME,OAAO,CAAAN,QAAA,CAAAI,EAAA,CAAQ,CAAC,yBAAAJ,QAAA,CAAAO,IAAA,MAAAX,OAAA,iBAEjF,mBAAAY,EAAA,CAAAC,GAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}