{"ast":null,"code":"import _defineProperty from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./Inspection.css';import{getAllInspectionPlans}from'./inspectionapi';import Filter from'../../functions/Filter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inspection=function Inspection(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inspectionPlans=_useState2[0],setInspectionPlans=_useState2[1];var _useState3=useState({column:'',query:''}),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var columns=['Vendor Name','Customer Name','Product Name','Order Number','Quantity','Mid Control Responsible','Mid Control Date','Final Control Responsible','Final Control Date','Delivery Date','Status','State'];var columnMap={'Vendor Name':'vendor_name','Customer Name':'customer_name','Product Name':'product_name','Order Number':'order_number','Quantity':'quantity','Mid Control Responsible':'mid_control_responsible','Mid Control Date':'mid_control_date','Final Control Responsible':'final_control_responsible','Final Control Date':'final_control_date','Delivery Date':'delivery_date','Status':'status','State':'state'};var navigate=useNavigate();useEffect(function(){fetchInspectionPlans();},[]);var fetchInspectionPlans=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getAllInspectionPlans();case 3:response=_context.sent;setInspectionPlans(response.data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchInspectionPlans(){return _ref.apply(this,arguments);};}();var handleFilterChange=function handleFilterChange(type,value){setFilter(function(prevFilter){return _objectSpread(_objectSpread({},prevFilter),{},_defineProperty({},type,value));});};var filteredInspectionPlans=inspectionPlans.filter(function(plan){if(!filter.column||!filter.query)return true;var columnName=columnMap[filter.column];return String(plan[columnName]).toLowerCase().includes(filter.query.toLowerCase());});var handleEdit=function handleEdit(id){navigate(\"/edit-inspection-plan/\".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"inspection-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"inspection-title\",children:\"Inspection Plan\"}),/*#__PURE__*/_jsx(Filter,{columns:columns,onFilterChange:handleFilterChange,currentColumn:filter.column,currentQuery:filter.query}),/*#__PURE__*/_jsx(\"div\",{className:\"inspection-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"inspection-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(function(column){return/*#__PURE__*/_jsx(\"th\",{children:column},column);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredInspectionPlans.map(function(plan){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:plan.vendor_name}),/*#__PURE__*/_jsx(\"td\",{children:plan.customer_name}),/*#__PURE__*/_jsx(\"td\",{children:plan.product_name}),/*#__PURE__*/_jsx(\"td\",{children:plan.order_number}),/*#__PURE__*/_jsx(\"td\",{children:plan.quantity}),/*#__PURE__*/_jsx(\"td\",{children:plan.mid_control_responsible}),/*#__PURE__*/_jsx(\"td\",{children:plan.mid_control_date}),/*#__PURE__*/_jsx(\"td\",{children:plan.final_control_responsible}),/*#__PURE__*/_jsx(\"td\",{children:plan.final_control_date}),/*#__PURE__*/_jsx(\"td\",{children:plan.delivery_date}),/*#__PURE__*/_jsx(\"td\",{children:plan.status}),/*#__PURE__*/_jsx(\"td\",{children:plan.state})]},plan.id);})})]})})]});};export default Inspection;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getAllInspectionPlans","Filter","jsx","_jsx","jsxs","_jsxs","Inspection","_useState","_useState2","_slicedToArray","inspectionPlans","setInspectionPlans","_useState3","column","query","_useState4","filter","setFilter","columns","columnMap","navigate","fetchInspectionPlans","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","data","t0","stop","apply","arguments","handleFilterChange","type","value","prevFilter","_objectSpread","_defineProperty","filteredInspectionPlans","plan","columnName","String","toLowerCase","includes","handleEdit","id","concat","className","children","onFilterChange","currentColumn","currentQuery","map","vendor_name","customer_name","product_name","order_number","quantity","mid_control_responsible","mid_control_date","final_control_responsible","final_control_date","delivery_date","status","state"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/InspectionPlan/Inspection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Inspection.css';\r\nimport { getAllInspectionPlans } from './inspectionapi';\r\nimport Filter from '../../functions/Filter';\r\n\r\nconst Inspection = () => {\r\n  const [inspectionPlans, setInspectionPlans] = useState([]);\r\n  const [filter, setFilter] = useState({ column: '', query: '' });\r\n\r\n  const columns = [\r\n    'Vendor Name',\r\n    'Customer Name',\r\n    'Product Name',\r\n    'Order Number',\r\n    'Quantity',\r\n    'Mid Control Responsible',\r\n    'Mid Control Date',\r\n    'Final Control Responsible',\r\n    'Final Control Date',\r\n    'Delivery Date',\r\n    'Status',\r\n    'State',\r\n  ];\r\n\r\n  const columnMap = {\r\n    'Vendor Name': 'vendor_name',\r\n    'Customer Name': 'customer_name',\r\n    'Product Name': 'product_name',\r\n    'Order Number': 'order_number',\r\n    'Quantity': 'quantity',\r\n    'Mid Control Responsible': 'mid_control_responsible',\r\n    'Mid Control Date': 'mid_control_date',\r\n    'Final Control Responsible': 'final_control_responsible',\r\n    'Final Control Date': 'final_control_date',\r\n    'Delivery Date': 'delivery_date',\r\n    'Status': 'status',\r\n    'State': 'state',\r\n  };\r\n\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchInspectionPlans();\r\n  }, []);\r\n\r\n  const fetchInspectionPlans = async () => {\r\n    try {\r\n      const response = await getAllInspectionPlans();\r\n      setInspectionPlans(response.data);\r\n    } catch (error) {\r\n      // console.error('Could not fetch inspection plans:', error);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (type, value) => {\r\n    setFilter(prevFilter => ({ ...prevFilter, [type]: value }));\r\n  };\r\n\r\n  const filteredInspectionPlans = inspectionPlans.filter(plan => {\r\n    if (!filter.column || !filter.query) return true;\r\n    const columnName = columnMap[filter.column];\r\n    return String(plan[columnName])\r\n      .toLowerCase()\r\n      .includes(filter.query.toLowerCase());\r\n  });\r\n\r\n  const handleEdit = (id) => {\r\n    navigate(`/edit-inspection-plan/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"inspection-container\">\r\n      <h1 className=\"inspection-title\">Inspection Plan</h1>\r\n      <Filter\r\n        columns={columns}\r\n        onFilterChange={handleFilterChange}\r\n        currentColumn={filter.column}\r\n        currentQuery={filter.query}\r\n      />\r\n      <div className=\"inspection-table-container\">\r\n        <table className=\"inspection-table\">\r\n          <thead>\r\n            <tr>\r\n              {columns.map(column => (\r\n                <th key={column}>{column}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredInspectionPlans.map(plan => (\r\n              <tr key={plan.id}>\r\n                <td>{plan.vendor_name}</td>\r\n                <td>{plan.customer_name}</td>\r\n                <td>{plan.product_name}</td>\r\n                <td>{plan.order_number}</td>\r\n                <td>{plan.quantity}</td>\r\n                <td>{plan.mid_control_responsible}</td>\r\n                <td>{plan.mid_control_date}</td>\r\n                <td>{plan.final_control_responsible}</td>\r\n                <td>{plan.final_control_date}</td>\r\n                <td>{plan.delivery_date}</td>\r\n                <td>{plan.status}</td>\r\n                <td>{plan.state}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inspection;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}