{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _require=require('@azure/storage-blob'),BlobServiceClient=_require.BlobServiceClient;var _require2=require('uuid'),uuidv1=_require2.v1;var AZURE_STORAGE_ACCOUNT_NAME=process.env.AZURE_STORAGE_ACCOUNT_NAME;var AZURE_STORAGE_ACCOUNT_KEY=process.env.AZURE_STORAGE_ACCOUNT_KEY;var AZURE_STORAGE_CONTAINER_NAME=process.env.AZURE_STORAGE_CONTAINER_NAME;var blobServiceClient=BlobServiceClient.fromConnectionString(\"DefaultEndpointsProtocol=https;AccountName=\".concat(AZURE_STORAGE_ACCOUNT_NAME,\";AccountKey=\").concat(AZURE_STORAGE_ACCOUNT_KEY,\";EndpointSuffix=core.windows.net\"));function uploadFile(_x,_x2){return _uploadFile.apply(this,arguments);}function _uploadFile(){_uploadFile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(fileData,fileName){var containerClient,blockBlobClient;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:containerClient=blobServiceClient.getContainerClient(AZURE_STORAGE_CONTAINER_NAME);_context.next=3;return containerClient.createIfNotExists();case 3:blockBlobClient=containerClient.getBlockBlobClient(fileName);_context.next=6;return blockBlobClient.uploadData(fileData);case 6:return _context.abrupt(\"return\",blockBlobClient.url);case 7:case\"end\":return _context.stop();}},_callee);}));return _uploadFile.apply(this,arguments);}module.exports={uploadFile:uploadFile};","map":{"version":3,"names":["_require","require","BlobServiceClient","_require2","uuidv1","v1","AZURE_STORAGE_ACCOUNT_NAME","process","env","AZURE_STORAGE_ACCOUNT_KEY","AZURE_STORAGE_CONTAINER_NAME","blobServiceClient","fromConnectionString","concat","uploadFile","_x","_x2","_uploadFile","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fileData","fileName","containerClient","blockBlobClient","wrap","_callee$","_context","prev","next","getContainerClient","createIfNotExists","getBlockBlobClient","uploadData","abrupt","url","stop","module","exports"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/shared/azure/upload_azure.js"],"sourcesContent":["const { BlobServiceClient } = require('@azure/storage-blob');\r\nconst { v1: uuidv1 } = require('uuid');\r\n\r\nconst AZURE_STORAGE_ACCOUNT_NAME = process.env.AZURE_STORAGE_ACCOUNT_NAME;\r\nconst AZURE_STORAGE_ACCOUNT_KEY = process.env.AZURE_STORAGE_ACCOUNT_KEY;\r\nconst AZURE_STORAGE_CONTAINER_NAME = process.env.AZURE_STORAGE_CONTAINER_NAME;\r\n\r\nconst blobServiceClient = BlobServiceClient.fromConnectionString(\r\n  `DefaultEndpointsProtocol=https;AccountName=${AZURE_STORAGE_ACCOUNT_NAME};AccountKey=${AZURE_STORAGE_ACCOUNT_KEY};EndpointSuffix=core.windows.net`\r\n);\r\n\r\nasync function uploadFile(fileData, fileName) {\r\n  const containerClient = blobServiceClient.getContainerClient(AZURE_STORAGE_CONTAINER_NAME);\r\n  await containerClient.createIfNotExists();\r\n  const blockBlobClient = containerClient.getBlockBlobClient(fileName);\r\n\r\n  await blockBlobClient.uploadData(fileData);\r\n  return blockBlobClient.url;\r\n}\r\n\r\nmodule.exports = {\r\n  uploadFile,\r\n};\r\n"],"mappings":"kRAAA,IAAAA,QAAA,CAA8BC,OAAO,CAAC,qBAAqB,CAAC,CAApDC,iBAAiB,CAAAF,QAAA,CAAjBE,iBAAiB,CACzB,IAAAC,SAAA,CAAuBF,OAAO,CAAC,MAAM,CAAC,CAA1BG,MAAM,CAAAD,SAAA,CAAVE,EAAE,CAEV,GAAM,CAAAC,0BAA0B,CAAGC,OAAO,CAACC,GAAG,CAACF,0BAA0B,CACzE,GAAM,CAAAG,yBAAyB,CAAGF,OAAO,CAACC,GAAG,CAACC,yBAAyB,CACvE,GAAM,CAAAC,4BAA4B,CAAGH,OAAO,CAACC,GAAG,CAACE,4BAA4B,CAE7E,GAAM,CAAAC,iBAAiB,CAAGT,iBAAiB,CAACU,oBAAoB,+CAAAC,MAAA,CAChBP,0BAA0B,iBAAAO,MAAA,CAAeJ,yBAAyB,qCACjH,CAAC,QAEa,CAAAK,UAAUA,CAAAC,EAAA,CAAAC,GAAA,SAAAC,WAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,YAAA,EAAAA,WAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAAC,QAA0BC,QAAQ,CAAEC,QAAQ,MAAAC,eAAA,CAAAC,eAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpCN,eAAe,CAAGf,iBAAiB,CAACsB,kBAAkB,CAACvB,4BAA4B,CAAC,CAAAoB,QAAA,CAAAE,IAAA,SACpF,CAAAN,eAAe,CAACQ,iBAAiB,EAAE,QACnCP,eAAe,CAAGD,eAAe,CAACS,kBAAkB,CAACV,QAAQ,CAAC,CAAAK,QAAA,CAAAE,IAAA,SAE9D,CAAAL,eAAe,CAACS,UAAU,CAACZ,QAAQ,CAAC,eAAAM,QAAA,CAAAO,MAAA,UACnCV,eAAe,CAACW,GAAG,0BAAAR,QAAA,CAAAS,IAAA,MAAAhB,OAAA,GAC3B,UAAAN,WAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDqB,MAAM,CAACC,OAAO,CAAG,CACf3B,UAAU,CAAVA,UACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}