{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Inspection.css';import{columns}from'./enumerated_inspection';import{getCloseInspectionPlans,getDescriptionControl}from'./inspectionapi';import{fetchItems}from'./inspection_utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inspection=function Inspection(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),inspectionPlans=_useState2[0],setInspectionPlans=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),descriptionControls=_useState4[0],setDescriptionControls=_useState4[1];useEffect(function(){fetchItems(getCloseInspectionPlans,/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var descriptionData,descriptionControls,_iterator,_step,desc;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data.sort(function(a,b){return a.order_number.localeCompare(b.order_number);});_context.next=3;return getDescriptionControl();case 3:descriptionData=_context.sent;descriptionControls={};_iterator=_createForOfIteratorHelper(descriptionData.data);try{for(_iterator.s();!(_step=_iterator.n()).done;){desc=_step.value;descriptionControls[desc.inspectionplan_id]=desc.description;}}catch(err){_iterator.e(err);}finally{_iterator.f();}setDescriptionControls(descriptionControls);setInspectionPlans(data);case 9:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"inspection-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"inspection-title\",children:\"Inspection Plan\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inspection-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"inspection-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(function(column){return/*#__PURE__*/_jsx(\"th\",{children:column},column);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:inspectionPlans.map(function(plan){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:plan.vendor_name.substring(0,12)}),/*#__PURE__*/_jsx(\"td\",{children:plan.customer_name.substring(0,12)}),/*#__PURE__*/_jsx(\"td\",{children:plan.product_name}),/*#__PURE__*/_jsx(\"td\",{children:plan.order_number}),/*#__PURE__*/_jsx(\"td\",{children:plan.project_number}),/*#__PURE__*/_jsx(\"td\",{children:plan.quantity}),/*#__PURE__*/_jsx(\"td\",{children:plan.control_type}),/*#__PURE__*/_jsx(\"td\",{children:plan.control_responsible}),/*#__PURE__*/_jsx(\"td\",{children:plan.control_date?new Date(plan.control_date).toLocaleDateString('tr-TR'):''}),/*#__PURE__*/_jsx(\"td\",{children:plan.note}),/*#__PURE__*/_jsx(\"td\",{children:descriptionControls[plan.id]}),/*#__PURE__*/_jsx(\"td\",{children:plan.delivery_date?new Date(plan.delivery_date).toLocaleDateString('tr-TR'):''}),/*#__PURE__*/_jsx(\"td\",{children:plan.status}),/*#__PURE__*/_jsx(\"td\",{children:plan.state})]},plan.id);})})]})})]});};export default Inspection;","map":{"version":3,"names":["React","useState","useEffect","columns","getCloseInspectionPlans","getDescriptionControl","fetchItems","jsx","_jsx","jsxs","_jsxs","Inspection","_useState","_useState2","_slicedToArray","inspectionPlans","setInspectionPlans","_useState3","_useState4","descriptionControls","setDescriptionControls","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","descriptionData","_iterator","_step","desc","wrap","_callee$","_context","prev","next","sort","a","b","order_number","localeCompare","sent","_createForOfIteratorHelper","s","n","done","value","inspectionplan_id","description","err","e","f","stop","_x","apply","arguments","className","children","map","column","plan","vendor_name","substring","customer_name","product_name","project_number","quantity","control_type","control_responsible","control_date","Date","toLocaleDateString","note","id","delivery_date","status","state"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/InspectionPlan/closedInspection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Inspection.css';\r\nimport { columns } from './enumerated_inspection';\r\nimport {\r\n  getCloseInspectionPlans,\r\n  getDescriptionControl \r\n} from './inspectionapi';\r\n\r\nimport {\r\n  fetchItems,\r\n  } from './inspection_utils';\r\n\r\nconst Inspection = () => {\r\n  const [inspectionPlans, setInspectionPlans] = useState([]);\r\n  const [descriptionControls, setDescriptionControls] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetchItems(getCloseInspectionPlans, async (data) => {\r\n      data.sort((a, b) => a.order_number.localeCompare(b.order_number));\r\n\r\n      const descriptionData = await getDescriptionControl();\r\n      const descriptionControls = {};\r\n      for (let desc of descriptionData.data) {\r\n        descriptionControls[desc.inspectionplan_id] = desc.description;\r\n      }\r\n  \r\n      setDescriptionControls(descriptionControls); \r\n      setInspectionPlans(data);\r\n    });\r\n  }, []);\r\n  \r\n  return (\r\n    <div className=\"inspection-container\">\r\n      <h1 className=\"inspection-title\">Inspection Plan</h1>\r\n      <div className=\"inspection-table-container\">\r\n        <table className=\"inspection-table\">\r\n          <thead>\r\n            <tr>\r\n              {columns.map(column => (\r\n                <th key={column}>{column}</th>\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {inspectionPlans.map(plan => (\r\n              <tr key={plan.id}>\r\n                <td>{plan.vendor_name.substring(0, 12)}</td>\r\n                <td>{plan.customer_name.substring(0, 12)}</td>\r\n                <td>{plan.product_name}</td>\r\n                <td>{plan.order_number}</td>\r\n                <td>{plan.project_number}</td>\r\n                <td>{plan.quantity}</td>\r\n                <td>{plan.control_type}</td>\r\n                <td>{plan.control_responsible}</td>\r\n                <td>\r\n                  {plan.control_date\r\n                    ? new Date(plan.control_date).toLocaleDateString('tr-TR')\r\n                    : ''}\r\n                </td>\r\n                <td>{plan.note}</td>\r\n                <td>{descriptionControls[plan.id] }</td>\r\n                <td>\r\n                  {plan.delivery_date\r\n                    ? new Date(plan.delivery_date).toLocaleDateString('tr-TR')\r\n                    : ''}\r\n                </td>\r\n                <td>{plan.status}</td>\r\n                <td>{plan.state}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Inspection;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}