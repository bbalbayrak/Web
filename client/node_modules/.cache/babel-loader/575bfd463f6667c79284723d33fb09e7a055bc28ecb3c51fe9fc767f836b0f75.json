{"ast":null,"code":"import _defineProperty from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AlperenAlihanEr/portal-test/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{updateInspectionPlan,deleteInspectionPlan,createDescriptionControl}from'./inspectionapi';export var fetchItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(getter,setter){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getter();case 3:response=_context.sent;setter(response);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching items: \".concat(_context.t0));case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchItems(_x,_x2){return _ref.apply(this,arguments);};}();export var handleTickClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,inspectionPlans,descriptions,currentUserId,setUpdateTrigger){var plan;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:plan=inspectionPlans.find(function(plan){return plan.id===id;});if(!(descriptions||plan.documents)){_context2.next=4;break;}_context2.next=4;return createDescriptionControl(plan,plan.documents,descriptions,currentUserId);case 4:_context2.next=6;return updateInspectionPlan(plan);case 6:setUpdateTrigger(function(prevState){return!prevState;});case 7:case\"end\":return _context2.stop();}},_callee2);}));return function handleTickClick(_x3,_x4,_x5,_x6,_x7){return _ref2.apply(this,arguments);};}();export var handleCrossClick=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id,setInspectionPlans){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(window.confirm('Silmek istediğinize emin misiniz?')){deleteInspectionPlan(id);setInspectionPlans(function(prevPlans){return prevPlans.filter(function(plan){return plan.id!==id;});});}case 1:case\"end\":return _context3.stop();}},_callee3);}));return function handleCrossClick(_x8,_x9){return _ref3.apply(this,arguments);};}();export var handleDateChange=function handleDateChange(event,id,setInspectionPlans){var date=event.target.value;setInspectionPlans(function(prevPlans){return prevPlans.map(function(plan){return plan.id===id?_objectSpread(_objectSpread({},plan),{},{control_date:date}):plan;});});};export var handleControlTypeChange=function handleControlTypeChange(event,id,setInspectionPlans){var newControlType=event.target.value;setInspectionPlans(function(prevPlans){return prevPlans.map(function(plan){return plan.id===id?_objectSpread(_objectSpread({},plan),{},{control_type:newControlType}):plan;});});};export var handleControlResponsibleChange=function handleControlResponsibleChange(event,id,setInspectionPlans){var newControlResponsible=event.target.value;setInspectionPlans(function(prevPlans){return prevPlans.map(function(plan){return plan.id===id?_objectSpread(_objectSpread({},plan),{},{control_responsible:newControlResponsible}):plan;});});};export var handleDescriptionChange=function handleDescriptionChange(event,planId,descriptionControls,setDescriptionControls){var updatedDescriptions=_objectSpread(_objectSpread({},descriptionControls),{},_defineProperty({},planId,event.target.value));setDescriptionControls(updatedDescriptions);};","map":{"version":3,"names":["updateInspectionPlan","deleteInspectionPlan","createDescriptionControl","fetchItems","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","getter","setter","response","wrap","_callee$","_context","prev","next","sent","t0","console","error","concat","stop","_x","_x2","apply","arguments","handleTickClick","_ref2","_callee2","id","inspectionPlans","descriptions","currentUserId","setUpdateTrigger","plan","_callee2$","_context2","find","documents","prevState","_x3","_x4","_x5","_x6","_x7","handleCrossClick","_ref3","_callee3","setInspectionPlans","_callee3$","_context3","window","confirm","prevPlans","filter","_x8","_x9","handleDateChange","event","date","target","value","map","_objectSpread","control_date","handleControlTypeChange","newControlType","control_type","handleControlResponsibleChange","newControlResponsible","control_responsible","handleDescriptionChange","planId","descriptionControls","setDescriptionControls","updatedDescriptions","_defineProperty"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/InspectionPlan/inspection_utils.js"],"sourcesContent":["import {\r\n  updateInspectionPlan,\r\n  deleteInspectionPlan,\r\n  createDescriptionControl\r\n} from './inspectionapi';\r\n\r\nexport const fetchItems = async (getter, setter) => {\r\n  try {\r\n    const response = await getter();\r\n    setter(response);\r\n  } catch (error) {\r\n    console.error(`Error fetching items: ${error}`);\r\n  }\r\n};\r\n\r\nexport const handleTickClick = async (id, inspectionPlans, descriptions, currentUserId, setUpdateTrigger) => {\r\n  const plan = inspectionPlans.find(plan => plan.id === id);\r\n\r\n  if (descriptions || plan.documents) {\r\n    await createDescriptionControl(plan, plan.documents, descriptions, currentUserId); \r\n  }\r\n  await updateInspectionPlan(plan);\r\n  setUpdateTrigger(prevState => !prevState);\r\n};\r\n\r\nexport const handleCrossClick = async (id, setInspectionPlans) => {\r\n  if (window.confirm('Silmek istediğinize emin misiniz?')) {\r\n    deleteInspectionPlan(id);\r\n    setInspectionPlans(prevPlans => prevPlans.filter(plan => plan.id !== id));\r\n  }\r\n};\r\n\r\nexport const handleDateChange = (event, id, setInspectionPlans) => {\r\n  const date = event.target.value;\r\n  setInspectionPlans(prevPlans =>\r\n    prevPlans.map(plan =>\r\n      plan.id === id ? { ...plan, control_date: date } : plan\r\n    )\r\n  );\r\n};\r\n\r\nexport const handleControlTypeChange = (event, id, setInspectionPlans) => {\r\n  const newControlType = event.target.value;\r\n  setInspectionPlans(prevPlans =>\r\n    prevPlans.map(plan =>\r\n      plan.id === id ? { ...plan, control_type: newControlType } : plan\r\n    )\r\n  );\r\n};\r\n\r\nexport const handleControlResponsibleChange = (event, id, setInspectionPlans) => {\r\n  const newControlResponsible = event.target.value;\r\n  setInspectionPlans(prevPlans =>\r\n    prevPlans.map(plan =>\r\n      plan.id === id ? { ...plan, control_responsible: newControlResponsible } : plan\r\n    )\r\n  );\r\n};\r\n\r\nexport const handleDescriptionChange = (event, planId, descriptionControls, setDescriptionControls) => {\r\n  const updatedDescriptions = {\r\n    ...descriptionControls,\r\n    [planId]: event.target.value\r\n  };\r\n  setDescriptionControls(updatedDescriptions);\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}