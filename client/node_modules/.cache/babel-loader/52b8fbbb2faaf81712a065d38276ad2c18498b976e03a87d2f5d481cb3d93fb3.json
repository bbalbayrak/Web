{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nconst useAuth = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState(null);\n  let navigate = useNavigate();\n  const handleSubmit = event => {\n    event.preventDefault();\n    axios.post('https://portal-test.yenaengineering.nl/api/login', {\n      email,\n      password\n    }).then(response => {\n      setMessage(response.data.msg);\n      if (response.status === 200) {\n        localStorage.setItem('token', response.data.token);\n        navigate('/home');\n        window.location.reload();\n      }\n    }).catch(error => {\n      setPassword(\"\");\n      if (error.response) {\n        setMessage(error.response.data.msg);\n      }\n    });\n  };\n  return {\n    email,\n    setEmail,\n    password,\n    setPassword,\n    message,\n    handleSubmit\n  };\n};\n_s(useAuth, \"Ar4CCblrGauGpml1JYAnOc63cHE=\", false, function () {\n  return [useNavigate];\n});\nexport default useAuth;","map":{"version":3,"names":["useState","axios","useNavigate","useAuth","_s","email","setEmail","password","setPassword","message","setMessage","navigate","handleSubmit","event","preventDefault","post","then","response","data","msg","status","localStorage","setItem","token","window","location","reload","catch","error"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/Login/useAuth.js"],"sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst useAuth = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n  let navigate = useNavigate();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    axios\r\n      .post('https://portal-test.yenaengineering.nl/api/login', { email, password })\r\n      .then((response) => {\r\n        setMessage(response.data.msg);\r\n        if (response.status === 200) {\r\n          localStorage.setItem('token', response.data.token);\r\n          navigate('/home');\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setPassword(\"\");\r\n        if (error.response) {\r\n          setMessage(error.response.data.msg);\r\n        }\r\n      });\r\n  };\r\n\r\n  return {\r\n    email,\r\n    setEmail,\r\n    password,\r\n    setPassword,\r\n    message,\r\n    handleSubmit\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,IAAIW,QAAQ,GAAGT,WAAW,EAAE;EAE5B,MAAMU,YAAY,GAAIC,KAAK,IAAK;IAC9BA,KAAK,CAACC,cAAc,EAAE;IAEtBb,KAAK,CACFc,IAAI,CAAC,kDAAkD,EAAE;MAAEV,KAAK;MAAEE;IAAS,CAAC,CAAC,CAC7ES,IAAI,CAAEC,QAAQ,IAAK;MAClBP,UAAU,CAACO,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC;MAC7B,IAAIF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QAC3BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACC,IAAI,CAACK,KAAK,CAAC;QAClDZ,QAAQ,CAAC,OAAO,CAAC;QACjBa,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B;IACF,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBpB,WAAW,CAAC,EAAE,CAAC;MACf,IAAIoB,KAAK,CAACX,QAAQ,EAAE;QAClBP,UAAU,CAACkB,KAAK,CAACX,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAC;MACrC;IACF,CAAC,CAAC;EACN,CAAC;EAED,OAAO;IACLd,KAAK;IACLC,QAAQ;IACRC,QAAQ;IACRC,WAAW;IACXC,OAAO;IACPG;EACF,CAAC;AACH,CAAC;AAACR,EAAA,CAnCID,OAAO;EAAA,QAIID,WAAW;AAAA;AAiC5B,eAAeC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}