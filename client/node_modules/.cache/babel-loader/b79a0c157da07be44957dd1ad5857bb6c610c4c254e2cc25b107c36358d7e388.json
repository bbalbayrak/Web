{"ast":null,"code":"import React,{useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var RouteGuard=function RouteGuard(_ref){var children=_ref.children,setShowMenu=_ref.setShowMenu;var navigate=useNavigate();useEffect(function(){var token=localStorage.getItem(\"token\");var isAuthenticated=false;if(token){var decodedToken=jwt_decode(token);if(decodedToken.exp*1000>Date.now()){isAuthenticated=true;setShowMenu(true);}else{isAuthenticated=false;setShowMenu(false);}}else{isAuthenticated=false;setShowMenu(false);}if(!isAuthenticated){navigate(\"/login\");}},[navigate,setShowMenu]);return/*#__PURE__*/_jsx(_Fragment,{children:children});};export default RouteGuard;","map":{"version":3,"names":["React","useEffect","useNavigate","jwt_decode","Fragment","_Fragment","jsx","_jsx","RouteGuard","_ref","children","setShowMenu","navigate","token","localStorage","getItem","isAuthenticated","decodedToken","exp","Date","now"],"sources":["C:/Users/AlperenAlihanEr/portal-test/client/src/components/RouteGuard/RouteGuard.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst RouteGuard = ({ children, setShowMenu }) => {\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    let isAuthenticated = false;\r\n\r\n    if (token) {\r\n      const decodedToken = jwt_decode(token);\r\n\r\n      if (decodedToken.exp * 1000 > Date.now()) {\r\n        isAuthenticated = true;\r\n        setShowMenu(true);\r\n      } else {\r\n        isAuthenticated = false;\r\n        setShowMenu(false);\r\n      }\r\n    } else {\r\n      isAuthenticated = false;\r\n      setShowMenu(false);\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [navigate, setShowMenu]);\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default RouteGuard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,UAAU,KAAM,YAAY,CAAC,OAAAC,QAAA,IAAAC,SAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAEpC,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAAC,IAAA,CAAkC,IAA5B,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CACzC,GAAI,CAAAC,QAAQ,CAAGV,WAAW,EAAE,CAE5BD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAAAC,eAAe,CAAG,KAAK,CAE3B,GAAIH,KAAK,CAAE,CACT,GAAM,CAAAI,YAAY,CAAGd,UAAU,CAACU,KAAK,CAAC,CAEtC,GAAII,YAAY,CAACC,GAAG,CAAG,IAAI,CAAGC,IAAI,CAACC,GAAG,EAAE,CAAE,CACxCJ,eAAe,CAAG,IAAI,CACtBL,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,IAAM,CACLK,eAAe,CAAG,KAAK,CACvBL,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,IAAM,CACLK,eAAe,CAAG,KAAK,CACvBL,WAAW,CAAC,KAAK,CAAC,CACpB,CAEA,GAAI,CAACK,eAAe,CAAE,CACpBJ,QAAQ,CAAC,QAAQ,CAAC,CACpB,CACF,CAAC,CAAE,CAACA,QAAQ,CAAED,WAAW,CAAC,CAAC,CAE3B,mBAAOJ,IAAA,CAAAF,SAAA,EAAAK,QAAA,CAAGA,QAAQ,EAAI,CACxB,CAAC,CAED,cAAe,CAAAF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}